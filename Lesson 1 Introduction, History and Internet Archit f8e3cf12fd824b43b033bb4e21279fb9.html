<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Lesson 1: Introduction, History and Internet Architecture</title><style>
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, YuMincho, "Yu Mincho", "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Songti TC", "Songti SC", "SimSun", "Nanum Myeongjo", NanumMyeongjo, Batang, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, YuMincho, "Yu Mincho", "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Songti TC", "Songti SC", "SimSun", "Nanum Myeongjo", NanumMyeongjo, Batang, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.highlight-default {
}
.highlight-gray {
	color: rgb(155,154,151);
}
.highlight-brown {
	color: rgb(100,71,58);
}
.highlight-orange {
	color: rgb(217,115,13);
}
.highlight-yellow {
	color: rgb(223,171,1);
}
.highlight-teal {
	color: rgb(15,123,108);
}
.highlight-blue {
	color: rgb(11,110,153);
}
.highlight-purple {
	color: rgb(105,64,165);
}
.highlight-pink {
	color: rgb(173,26,114);
}
.highlight-red {
	color: rgb(224,62,62);
}
.highlight-gray_background {
	background: rgb(235,236,237);
}
.highlight-brown_background {
	background: rgb(233,229,227);
}
.highlight-orange_background {
	background: rgb(250,235,221);
}
.highlight-yellow_background {
	background: rgb(251,243,219);
}
.highlight-teal_background {
	background: rgb(221,237,234);
}
.highlight-blue_background {
	background: rgb(221,235,241);
}
.highlight-purple_background {
	background: rgb(234,228,242);
}
.highlight-pink_background {
	background: rgb(244,223,235);
}
.highlight-red_background {
	background: rgb(251,228,228);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(55, 53, 47, 0.6);
	fill: rgba(55, 53, 47, 0.6);
}
.block-color-brown {
	color: rgb(100,71,58);
	fill: rgb(100,71,58);
}
.block-color-orange {
	color: rgb(217,115,13);
	fill: rgb(217,115,13);
}
.block-color-yellow {
	color: rgb(223,171,1);
	fill: rgb(223,171,1);
}
.block-color-teal {
	color: rgb(15,123,108);
	fill: rgb(15,123,108);
}
.block-color-blue {
	color: rgb(11,110,153);
	fill: rgb(11,110,153);
}
.block-color-purple {
	color: rgb(105,64,165);
	fill: rgb(105,64,165);
}
.block-color-pink {
	color: rgb(173,26,114);
	fill: rgb(173,26,114);
}
.block-color-red {
	color: rgb(224,62,62);
	fill: rgb(224,62,62);
}
.block-color-gray_background {
	background: rgb(235,236,237);
}
.block-color-brown_background {
	background: rgb(233,229,227);
}
.block-color-orange_background {
	background: rgb(250,235,221);
}
.block-color-yellow_background {
	background: rgb(251,243,219);
}
.block-color-teal_background {
	background: rgb(221,237,234);
}
.block-color-blue_background {
	background: rgb(221,235,241);
}
.block-color-purple_background {
	background: rgb(234,228,242);
}
.block-color-pink_background {
	background: rgb(244,223,235);
}
.block-color-red_background {
	background: rgb(251,228,228);
}
.select-value-color-default { background-color: rgba(206,205,202,0.5); }
.select-value-color-gray { background-color: rgba(155,154,151, 0.4); }
.select-value-color-brown { background-color: rgba(140,46,0,0.2); }
.select-value-color-orange { background-color: rgba(245,93,0,0.2); }
.select-value-color-yellow { background-color: rgba(233,168,0,0.2); }
.select-value-color-green { background-color: rgba(0,135,107,0.2); }
.select-value-color-blue { background-color: rgba(0,120,223,0.2); }
.select-value-color-purple { background-color: rgba(103,36,222,0.2); }
.select-value-color-pink { background-color: rgba(221,0,129,0.2); }
.select-value-color-red { background-color: rgba(255,0,26,0.2); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="f1fd269d-658a-4d44-a363-e594f9210ec9" class="page sans"><header><h1 class="page-title">Lesson 1: Introduction, History and Internet Architecture</h1></header><div class="page-body"><p id="85617326-1269-46ee-b786-2c468fa75b08" class="">
</p><nav id="0e490d8e-54ce-427a-9817-4aff4a27398a" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#09455b81-a3a1-464f-a7c5-fcca87ace9fc"><mark class="highlight-pink">Lesson 1 Introduction</mark></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#1f7111cb-931f-4fd5-8035-7544f1e98051"><mark class="highlight-pink">Why Study Computer Networks?</mark></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e145d1a2-5aa6-440b-a06f-ec88b8916175"><mark class="highlight-pink_background"><strong>Internet growth</strong></mark></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#4e10ada2-f736-47cd-bb1b-4b52e6bbbe15"><mark class="highlight-pink_background"><strong>Networks play an instrumental a role in our society</strong></mark></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#88a0a52f-483b-46f8-879d-b503fd93d915"><strong>Networking is a playground for interdisciplinary research innovations</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#51551ba4-9e2a-4dc9-8f65-f29366f6b87a"><strong>Networking offers multidisciplinary research opportunities with potential for impact</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#9db5591f-399c-41e2-9cb9-b646a5e9dc3e"><mark class="highlight-pink">A Brief History of the Internet</mark></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#6b0dfb1e-1d3d-4add-a537-c620c442ca6c"><strong>J.C.R. Licklider proposed the &quot;</strong><mark class="highlight-pink_background"><strong>Galactic Network</strong></mark><strong>&quot; (1962)</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#75406da5-3c56-42ec-9eee-477bf16f9e79"><mark class="highlight-pink_background"><strong>The ARPANET</strong></mark><strong> (1969)</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c709bb02-ffab-4bde-b4d5-5522ffac712f"><mark class="highlight-pink_background"><strong>Network Control Protocol (NCP)</strong></mark><strong>, an initial ARPANET host-to-host protocol (1970)</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#31d3ffae-119b-4304-b618-163572324b55"><strong>Internetworking and </strong><mark class="highlight-pink_background"><strong>TCP/IP</strong></mark><strong> (1973)</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#1670b2d8-b4f0-45ca-8a34-57d4064e9ab1"><strong>The </strong><mark class="highlight-pink_background"><strong>Domain Name System (DNS)</strong></mark><strong> (1983) and the </strong><mark class="highlight-pink_background"><strong>World Wide Web (WWW)</strong></mark><strong> (1990)</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#3bdcc5dd-dc41-4cd2-a3aa-efb77a9ca41c"><mark class="highlight-pink">Internet Architecture Introduction</mark></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#7e8ca952-44fc-4412-aad2-c26339805b78"><mark class="highlight-pink_background"><strong>Connecting hosts running the same applications but located in different types of networks. </strong></mark></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#9930cbc1-4eb5-4244-8cb7-212fac14431a"><strong>Architecture, layers and functionalities.</strong> </a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#437238f3-0af7-45e4-81e3-660802a1c2d3"><strong>An analogy.</strong> </a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#582a07e1-de2f-41f1-a42a-4f33c161fec4"><strong>Layered architecture advantages: scalability, modularity, and flexibility. </strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#48baa1a5-d9fd-4133-a888-695bb523684f">The OSI Model</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#12b3b5b5-2593-42ff-92e6-9b65285bf8bf">Application, Presentation, and Session Layers</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#1f8b4f69-80cd-4cdd-9ef7-1a305a1bedca"><strong>The Application Layer:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#fbb0bf31-bcb3-44ac-a531-642f4ed909e6"><strong>The Presentation Layer:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e9aabf2c-030b-48f1-8252-02b6f260cc98"><strong>The Session Layer:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#7deb6c47-eb00-4f1c-a363-fdb77c3cb98c">Transport and Network Layer</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#82d97cac-4a7a-4348-8de9-04fbd00b0e09"><strong>The Transport Layer:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2639c502-8228-4d03-98d2-d2e50aba4e36"><strong>The Network Layer:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#1a6e5de7-501f-4c93-a904-ff848ec2e3fa">Data Link Layer and Physical Layer</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#556d33af-3d38-41ed-9178-c54fbcc25bdd"><strong>The data link layer:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c4babcb7-235b-467f-8988-02fa1bd15e18"><strong>The physical layer</strong>:</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#97af5ffc-1790-46fe-9822-7d49634d8bb4">Layers Encapsulation</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#26e8fba3-b01b-41af-bfb5-551cfcbac029">The End to End Principle</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#7472fa8e-6037-4275-a14e-a1aa6f1b3d49">Violations of the End-to-End Principle and NAT Boxes</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#8d2d8938-72ce-4b8c-8eba-3caf8ba5cad0"><strong>Some examples of the e2e violation:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#595625dc-644c-4c45-af23-37b80c6c28db"><strong>Why the NAT boxes violate the e2e principle?</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#232a26b7-3d08-467d-a355-cebba4bba11e">The Hourglass Shape of Internet Architecture</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#8f19ede6-e6ff-4e7f-aa3c-6d6b9df12088">Evolutionary Architecture Model</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#9b9bbea3-9d6e-4b02-809b-f27b49ffe5b6"><strong>Toy example:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#fe02da9d-f475-403e-a894-2ad10404a3d1"><strong>EvoArch iterations:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#ffaa4996-0698-4596-8e2d-5f94efb7cd69"><strong>Implications for the Internet Architecture and future Internet architecture:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#dcfd10d1-879c-4d11-80d0-edb51fd15f40">Optional Reading: Architecture Redesign</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#4b2dba95-02d2-4812-8523-bb2acf3a3e17"><strong>Why a clean-slate design approach?</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#0ca9d410-ffdc-4cf9-8bdf-ddc1661381a3"><strong>The clean-slate design as a process:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e59f26d1-dd62-4d08-a7d1-d0509bbefc7b"><strong>Redesigning the Internet architecture to optimize for control and management:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#6b2a371d-b13a-48a1-acb3-390ec4c7214e"><strong>Redesigning the Internet architecture to offer better accountability:</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#8f8493ba-4036-4c1d-8340-ba1ec3b0756c">Interconnecting Hosts and Networks</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5ffdf51f-3c3e-4491-8d58-c4131088f63b">Learning Bridges</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#dd74fc7b-8e37-49b9-88be-a96bac960778">Looping Problem in Bridges and the Spanning Tree Algorithm</a></div></nav><p id="1ea878e3-3f51-4765-a606-81f606888269" class="">
</p><h1 id="09455b81-a3a1-464f-a7c5-fcca87ace9fc" class=""><mark class="highlight-pink">Lesson 1 Introduction</mark></h1><p id="d3ea25d2-3c68-4cb7-a624-ed159af7c4aa" class="">In the first lecture, we are looking at major milestones in the history of the Internet and we are reviewing <mark class="highlight-yellow_background">original design choices and principles of the Internet architecture</mark>. Then, we are looking at how these initial design choices have formed the shape of the Internet architecture, which looks like an hourglass figure. We are learning about a model that can help us to explain the hourglass shape. Finally, we are exploring how it would be, <mark class="highlight-yellow_background">if we redesigned the Internet architecture from scratch, in other words what if we adopted a cleanslate design</mark>. Towards that goal, we look into some example architecture design approaches that optimize for network control, management and accountability, which were not first-class goals when the Internet was first designed.</p><p id="1d875da9-ab55-4d82-883e-a8947d0b40f2" class="">The number of devices that connect to the Internet has been exploding with the number reaching more than 22 billion as of 2019. These devices or end systems, can be very diverse for example: our laptops, mobile devices, tablets, cameras or more recently household devices (refrigerators and temperature control systems).</p><p id="32a56e4a-a2d9-4480-a320-8b03feca6303" class="">Through the course we will be learning about what it takes for two hosts that maybe in different networks and also physically located in different parts of the world to exchange data. We will be learning about <mark class="highlight-yellow_background">the protocols and the infrastructure we need</mark>, but also <mark class="highlight-yellow_background">how to overcome the challenges</mark>.</p><p id="6de8dece-3276-4715-a1ed-a2fc1c265acd" class="">In this first lecture, we will start by looking at the devices (<mark class="highlight-yellow_background">bridges</mark> and <mark class="highlight-yellow_background">switches</mark> for example) that <mark class="highlight-yellow_background">help provide connectivity between hosts in the same network</mark>.</p><p id="d918d297-9f5b-4fe5-b722-e15895a5d604" class="">
</p><p id="a055a44f-660d-41fb-a652-68c4ab5c4523" class="">
</p><h1 id="1f7111cb-931f-4fd5-8035-7544f1e98051" class=""><mark class="highlight-pink">Why Study Computer Networks?</mark></h1><h3 id="e145d1a2-5aa6-440b-a06f-ec88b8916175" class="block-color-pink_background"><mark class="highlight-pink_background"><strong>Internet growth</strong></mark></h3><p id="7d251e4c-678f-45fe-8226-2729dc21c9ec" class="">The Internet is one of the most exciting and influential inventions. Even though it started as a research experiment that escaped from a lab, it eventually evolved into a global communications infrastructure, that has been transforming almost all aspects of our lives with tremendous impact. <mark class="highlight-yellow_background">Given the explosion of applications that are becoming available and the technologies that make it possible for different types of devices to connect to the Internet</mark> (for example IoT, vehicles, sensors, home devices, etc), <mark class="highlight-yellow_background">the number of Internet users keeps increasing.</mark> As of June 2018, The number of Internet users has been estimated at about 3.2 billion, while the number of estimated I<mark class="highlight-yellow_background">nternet users by 2020 is 4 billion.</mark></p><h3 id="4e10ada2-f736-47cd-bb1b-4b52e6bbbe15" class="block-color-pink_background"><mark class="highlight-pink_background"><strong>Networks play an instrumental a role in our society</strong></mark></h3><p id="c6316c76-8445-4572-abac-7c21eeb105f7" class="">Indeed, the Internet has been playing a transformative role in our lives. Just to name a few examples, <mark class="highlight-yellow_background">it has been changing the way we do business; </mark>for example <mark class="highlight-red">e-commerce, advertising and cloud computing applications</mark>. It has been changing the <mark class="highlight-yellow_background">way we connect and communicate; </mark>for example, <mark class="highlight-red">e-mail, instant messaging, social networking and virtual worlds applications</mark> have been extremely popular. The Internet has been <mark class="highlight-yellow_background">changing even how we fight;</mark> for example, we <mark class="highlight-red">frequently read headline news about large scale cyber attacks, incidents related to the distribution of fake news, censorship and nationwide attacks</mark>. In turn, <mark class="highlight-yellow_background">these developments have law implications both nationwide and on a global scale</mark> that we hadn’t considered in the past; for example, we have to examine questions such as which countries are responsible for the Internet traffic that is crossing national boundaries, while the end hosts are located in multiple countries across the globe?</p><h3 id="88a0a52f-483b-46f8-879d-b503fd93d915" class="block-color-pink_background"><strong>Networking is a playground for interdisciplinary research innovations</strong></h3><p id="0ef155c4-14f1-4e38-87ba-1344b915e1bd" class="">..interdisciplinary → involving two or more different subjects of areas of knowledge</p><p id="169ae2bc-2399-4a7a-8cbf-cef7db4c3727" class=""><mark class="highlight-yellow_background">The Internet&#x27;s huge transformative role is connected with an ever-expanding and evolving collection of technologies, system and protocol architectures, algorithms, as well as powerful applications.</mark> Indeed, the Internet is an amazing “playground” of ongoing cross-disciplinary innovations that are coming from multiple fields such as distributed systems, operating systems, computer architecture, software engineering, algorithms and data structures, graph theory, queuing theory, game theory and mechanism designs stemming from machine learning and AI, cryptography, programming languages, and formal methods, and more.</p><h3 id="51551ba4-9e2a-4dc9-8f65-f29366f6b87a" class="block-color-pink_background"><strong>Networking offers multidisciplinary research opportunities with potential for impact</strong></h3><p id="226c96fe-3ff8-441f-b04e-81098363a530" class="">Networking is a field that offers tremendous opportunities for interdisciplinary research work that sometimes crosses fields that can be very different from each other. <mark class="highlight-red">For example in the context of research projects that study how to incentivize Internet providers to keep their networks clean from infected hosts, the research work may span across fields such as Internet security, economics, and social sciences.</mark> <mark class="highlight-yellow_background">What is perhaps the most exciting aspect about research in the networking field, is the ability to design innovative and impactful solutions, and immediately put them to test by leveraging existing platforms.</mark></p><p id="84f289e6-25d9-4a99-bdc5-3d31bda95a9c" class="">
</p><p id="55733312-8cea-4622-85e1-61c2893c9c65" class="">
</p><h1 id="9db5591f-399c-41e2-9cb9-b646a5e9dc3e" class=""><mark class="highlight-pink">A Brief History of the Internet</mark></h1><h3 id="6b0dfb1e-1d3d-4add-a537-c620c442ca6c" class=""><strong>J.C.R. Licklider proposed the &quot;</strong><mark class="highlight-pink_background"><strong>Galactic Network</strong></mark><strong>&quot; (1962)</strong></h3><p id="591261a1-30de-4977-b434-2f4c7e4d96d2" class="">The first vision of a Network - proposed as “Galactic Network” - by J.C.R. Licklider was at MIT back in 1962. <mark class="highlight-yellow_background">He envisioned that everyone could quickly access data through a set of interconnected computers.</mark> Licklider - as the head of the research program at Defense Advanced Research Projects Agency (DARPA) - led a group of researchers to experiment connecting two computers. An MIT researcher, Lawrence G. Roberts connected one computer in MA to another computer located in CA with a low-speed dial-up telephone line.</p><h3 id="75406da5-3c56-42ec-9eee-477bf16f9e79" class=""><mark class="highlight-pink_background"><strong>The ARPANET</strong></mark><strong> (1969)</strong></h3><p id="4e5e8af3-4e93-447c-b5f6-68b7cff2a2bf" class="">The results of <mark class="highlight-yellow_background">the first experiments showed that time-shared infrastructure was working sufficiently well at that moment</mark>. But also at the same time researchers<mark class="highlight-yellow_background"> indicated the need for packet switching technology.</mark> Roberts continued developing the computer network concept, which resulted in the first network which was <mark class="highlight-yellow_background">connecting four nodes</mark> (from UCLA, Stanford Research Institute, UCSB and Univ. of Utah, respectively) <mark class="highlight-yellow_background">into the initial ARPANET</mark> by the end of 1969.</p><h3 id="c709bb02-ffab-4bde-b4d5-5522ffac712f" class=""><mark class="highlight-pink_background"><strong>Network Control Protocol (NCP)</strong></mark><strong>, an initial ARPANET host-to-host protocol (1970)</strong></h3><p id="cf240073-1923-46d8-bcfe-839d2c1021fa" class="">As the number of computers that were added to the ARPANET increased quickly, <mark class="highlight-yellow_background">research work proceeded to designing protocols.</mark> The initial ARPANET <mark class="highlight-yellow_background">Host-to-Host protocol</mark> called Network Control Protocol (NCP) was introduced in 1970, and <mark class="highlight-yellow_background">it allowed the network users to begin developing applications</mark>. One of the first applications that launched was <mark class="highlight-yellow_background">email</mark> in 1972.</p><h3 id="31d3ffae-119b-4304-b618-163572324b55" class=""><strong>Internetworking and </strong><mark class="highlight-pink_background"><strong>TCP/IP</strong></mark><strong> (1973)</strong></h3><p id="30bfa404-4855-4f75-96b2-d4213ff9485b" class="">At the same time, a DARPA team of researchers led by Bob Kahn, <mark class="highlight-yellow_background">introduced the idea of open-architecture networking so that the individual networks may be independently designed and developed, in accordance with the specific environment and user requirements of that network</mark>. This led researchers to develop a new version of the NCP protocol which would eventually be called the Transmission Control Protocol / Internet Protocol (<mark class="highlight-yellow_background">TCP/IP</mark>). Khan collaborated with Vint Cerf in Stanford and presented the original TCP paper in 1973. The first version of TCP later split its functionalities into two protocols, <mark class="highlight-yellow_background">the simple IP which provided only for </mark><mark class="highlight-red">addressing and forwarding of individual packets</mark>, and <mark class="highlight-yellow_background">the separate TCP which focused on service features</mark> such as <mark class="highlight-red">flow control and recovery from lost packets</mark>.</p><h3 id="1670b2d8-b4f0-45ca-8a34-57d4064e9ab1" class=""><strong>The </strong><mark class="highlight-pink_background"><strong>Domain Name System (DNS)</strong></mark><strong> (1983) and the </strong><mark class="highlight-pink_background"><strong>World Wide Web (WWW)</strong></mark><strong> (1990)</strong></h3><p id="f3b69544-bb75-4ad0-9bbf-5a7815674a12" class="">The scale of the Internet was increasing rapidly, and as a result <mark class="highlight-yellow_background">it was no longer feasible to have a single table of hosts to store names and addresses</mark>. The Domain Name System <mark class="highlight-yellow_background">(DNS) - which was designed to translate domain names to IP addresses by a scalable distributed mechanism</mark> - was introduced by Paul Mockapetris at USC in 1983. <mark class="highlight-yellow_background">More applications sprung up quickly</mark>. One of the first and most popular applications was<mark class="highlight-yellow_background"> the World Wide Web (WWW)</mark>, which was introduced by a team of researchers led by Tim Berners-Lee.</p><p id="f5d62449-40d9-4b84-b0c4-8a7e53d09916" class="">
</p><p id="658936e9-dd01-4014-9158-403f59830643" class="">
</p><h1 id="3bdcc5dd-dc41-4cd2-a3aa-efb77a9ca41c" class=""><mark class="highlight-pink">Internet Architecture Introduction</mark></h1><p id="2ef53149-53e8-4ff0-bcaf-630175e61068" class="">After looking at the major milestones in the history of the Internet, let’s take a closer look into the current architectural design of the Internet.</p><h3 id="7e8ca952-44fc-4412-aad2-c26339805b78" class="block-color-pink_background"><mark class="highlight-pink_background"><strong>Connecting hosts running the same applications but located in different types of networks. </strong></mark></h3><p id="64fe1540-f39c-478f-a57c-5b6a698c05fa" class="">A computer network is a complex system that is built on top of multiple components. These components can vary in technologies making up different types of networks that offer different types of applications. For example in the figure below, we have two BitTorrent clients that communicate even though they are using very different networks/technologies (Wifi vs Ethernet). So, how do these technologies and components interconnect and come together to meet the needs of each application? <mark class="highlight-yellow_background">The designers of the network protocols provide structure to the network architecture by organizing the protocols into layers</mark>.</p><figure id="f8e3cf12-fd82-4b43-b033-bb4e21279fb9" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled.png"><img style="width:673px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled.png"/></a></figure><h3 id="9930cbc1-4eb5-4244-8cb7-212fac14431a" class="block-color-pink_background"><strong>Architecture, layers and functionalities.</strong> </h3><p id="021c634a-ee25-43c9-949d-995fab05fd31" class="">So, <mark class="highlight-yellow_background">the functionalities in the network architecture are implemented by dividing the architectural model into layers</mark>. Each layer offers different services.</p><h3 id="437238f3-0af7-45e4-81e3-660802a1c2d3" class="block-color-pink_background"><strong>An analogy.</strong> </h3><p id="268f88b2-839b-4cf7-89ca-cffd775a68d1" class="">An analogy we can use to explain a layered architecture is the airline system. Let’s look first at the actions that a passenger needs to take to move from the origin to the destination place. The passenger purchases the ticket, checks the bags, goes through the gates and after the plane takes off, the passenger travels on the plane to their final destination. At the final destination, the passenger leaves the aircraft, goes through the gate and claims their baggage.</p><figure id="f21d5b5e-80fc-421c-b80b-03326c166f82" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%201.png"><img style="width:672px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%201.png"/></a></figure><p id="3a9560e6-e580-46dc-9e5b-cebdf133bb3a" class="">We can look at the above picture to identify a structure (or layers) and the services (or functionalities) that are offered at every component of the structure. Dividing the services into layers we get the framework below. We notice that in this framework every layer implements some functionality. Every layer works based on the service provided by the layer below it, and also it provides some service to the layer that is above.</p><p id="fd8428d4-bf85-4150-8b8e-65fad5d978d5" class="">The same principle of layers and functionalities is implemented with the model of the Internet architecture.</p><h3 id="582a07e1-de2f-41f1-a42a-4f33c161fec4" class="block-color-pink_background"><strong>Layered architecture advantages: scalability, modularity, and flexibility. </strong></h3><p id="7d6dcc4b-9534-49ef-aaf5-4900aede3553" class="">Some of <mark class="highlight-yellow_background">the advantages of having a layered network stack include scalability, modularity and the flexibility to add or delete components</mark> which makes it easier overall for <mark class="highlight-red">cost-effective implementations.</mark></p><p id="8820edd2-d309-4086-92a0-612ffe5d9a88" class="">
</p><p id="090efaa8-696b-4a80-ba1b-e05909a3b553" class="">
</p><h1 id="48baa1a5-d9fd-4133-a888-695bb523684f" class="block-color-pink">The OSI Model</h1><p id="9947c402-ddc9-45a3-a9f0-81d9e5706c93" class="">The Internet architecture follows a layered model, where every layer provides some service to the layer above.</p><p id="4143638c-1c9a-4afd-9658-ca5ca7b8b372" class="">The International Organization for Standardization (ISO) proposed the seven-layered OSI model shown below, which consists of the following layers: <mark class="highlight-yellow_background">application layer, presentation layer, session layer, transport layer, network layer, data link layer, and physical layer</mark>.</p><figure id="cd754afb-2090-4019-bfd0-e407689e867c" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%202.png"><img style="width:671px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%202.png"/></a></figure><p id="f4b265cf-cdce-40a8-9427-6824a0afcc7c" class="">We will see in later sections a possible explanation about why the Internet architecture came eventually to have this form. Separating the functionalities into layers offers multiple advantages. But, are there disadvantages of the layered protocol stack model? Some of <mark class="highlight-yellow_background">the disadvantages include:</mark></p><ol id="1675e958-2e8c-4316-a4b5-a72de1046796" class="numbered-list" start="1"><li><mark class="highlight-yellow_background">Some layers functionality depends on the information from other layers</mark>, which <mark class="highlight-red">can violate the goal of layer separation.</mark></li></ol><ol id="2b78cc1a-1fb4-4ef8-8054-8e309d2f6f04" class="numbered-list" start="2"><li><mark class="highlight-yellow_background">One layer may duplicate lower layer functionalities.</mark> For example, the functionality of error recovery can occur in lower layers, but also on upper layers as well.</li></ol><ol id="ff42cddc-0be4-4ad8-89da-f2483729f7fd" class="numbered-list" start="3"><li><mark class="highlight-yellow_background">Some additional overhead that is caused by the abstraction between layers.</mark></li></ol><p id="3a2cacdc-ac9d-42a9-afe4-c1c5b5b8613d" class="">In the following sections, we will go through a brief overview of the layers, and more specifically we will focus on <mark class="highlight-yellow_background">what each layer does (service)</mark>, <mark class="highlight-yellow_background">how the layer is accessed (interface)</mark>, <mark class="highlight-yellow_background">how the layer is implemented (example protocols)</mark>, and how we refer to the packet of information it handles.</p><p id="6e4c2629-dce2-4c43-96ef-09ade6c7cd79" class="">
</p><p id="604f00e4-433b-4e9c-85a8-ad8208b146a9" class="">
</p><h1 id="12b3b5b5-2593-42ff-92e6-9b65285bf8bf" class="block-color-pink">Application, Presentation, and Session Layers</h1><h3 id="1f8b4f69-80cd-4cdd-9ef7-1a305a1bedca" class="block-color-pink_background"><strong>The Application Layer:</strong></h3><p id="c7b7507a-11d0-4996-a2dc-e3cf00acb561" class="">The application layer includes multiple protocols, some of the most popular ones include: 1) The <mark class="highlight-yellow_background">HTTP</mark> protocol (<mark class="highlight-red">web</mark>), <mark class="highlight-yellow_background">SMTP </mark>(<mark class="highlight-red">e-mail</mark>), 2) The <mark class="highlight-yellow_background">FTP </mark>protocol (<mark class="highlight-red">transfers files </mark>between two end hosts), and 3) The <mark class="highlight-yellow_background">DNS </mark>protocol (<mark class="highlight-red">translates domain names to IP addresses</mark>). So the services that this layer offers are multiple depending on the application that is implemented. The same is true for the interface through which it is accessed, and the protocol that is implemented. At the application layer, we refer to the packet of information as a message.</p><h3 id="fbb0bf31-bcb3-44ac-a531-642f4ed909e6" class="block-color-pink_background"><strong>The Presentation Layer:</strong></h3><p id="2e8c3f97-7a16-4fab-8aea-f7f87a90ffee" class="">The presentation layer plays the intermediate role of <mark class="highlight-red">formatting </mark><mark class="highlight-yellow_background">the information that it receives from the layer below and delivering it to the application layer</mark>. For example, some functionalities of this layer are formatting a video stream or translating integers from big endian to little endian format.</p><h3 id="e9aabf2c-030b-48f1-8252-02b6f260cc98" class="block-color-pink_background"><strong>The Session Layer:</strong></h3><p id="869c4c60-809d-4f69-9501-accdd15214da" class="">The session layer is <mark class="highlight-yellow_background">responsible for the mechanism that manages the different transport streams that belong to the same session between end-user application processes</mark>. For example, in the case of teleconference application, it is responsible to tie together the audio stream and the video stream.</p><p id="0a0dc154-e43b-48b5-b828-7f2988c5b815" class="">
</p><p id="658c4f82-dbba-412a-8c8f-d97e6962bc1e" class="">
</p><h1 id="7deb6c47-eb00-4f1c-a363-fdb77c3cb98c" class="block-color-pink">Transport and Network Layer</h1><h3 id="82d97cac-4a7a-4348-8de9-04fbd00b0e09" class="block-color-pink_background"><strong>The Transport Layer:</strong></h3><p id="4794be9f-4e76-4da1-908c-dca255037054" class="">The transport layer is responsible for <mark class="highlight-yellow_background">the end-to-end communication between end hosts</mark>. In this layer, there are two transport protocols, namely <mark class="highlight-yellow_background">TCP and UDP.</mark> The services that <mark class="highlight-yellow_background">TCP offers include: a connection-oriented service</mark> to the applications that are running on the layer above, <mark class="highlight-red">guaranteed delivery of the application-layer messages, flow control</mark> which in a nutshell matches the sender’s and receiver’s speed, and a congestion-control mechanism, so that the sender slows its transmission rate when it perceives the network to be congested. On the other hand, <mark class="highlight-yellow_background">the UDP protocol provides a connectionless best-effort service </mark>to the applications that are running in the layer above, <mark class="highlight-red">without reliability, flow or congestion control</mark>. At the transport layer, we refer to the packet of information as a segment.</p><h3 id="2639c502-8228-4d03-98d2-d2e50aba4e36" class="block-color-pink_background"><strong>The Network Layer:</strong></h3><p id="ea2e98df-f018-46a9-8787-eccd59a7a14a" class="">In this layer, we refer to <mark class="highlight-yellow_background">the packet of information as a datagram</mark>. The network layer <mark class="highlight-yellow_background">is responsible for moving datagrams from one Internet host to another.</mark> A source Internet host sends the segment along with the destination address, from the transport layer to the network layer. The network layer is responsible to deliver the datagram to the transport layer in the destination host. The protocols in the network layer are: <mark class="highlight-yellow_background">1) The IP Protocol</mark>, which we often refer to as “the glue” that binds the Internet together. All Internet hosts and devices that have a network layer must run the IP protocol. <mark class="highlight-red">The IP protocol defines a) the fields in the datagram, and b) how the source/destination hosts and the intermediate routers use these fields</mark>, so the datagrams that a source Internet host sends reach their destination. <mark class="highlight-yellow_background">2) The routing protocols</mark> that determine the routes that the datagrams can take between sources and destinations.</p><p id="d7dd9920-7e5a-44b2-8088-f6574e3987a6" class="">
</p><p id="9854de32-c455-4005-9f36-1ef8b5862508" class="">
</p><h1 id="1a6e5de7-501f-4c93-a904-ff848ec2e3fa" class="block-color-pink">Data Link Layer and Physical Layer</h1><h3 id="556d33af-3d38-41ed-9178-c54fbcc25bdd" class="block-color-pink_background"><strong>The data link layer:</strong></h3><p id="5ee77195-2a49-4479-aff9-cb965d27fbf2" class="">In this layer, we refer to the packets of information as frames. Some example protocols in this layer include <mark class="highlight-yellow_background">Ethernet, PPP, WiFi.</mark></p><p id="dd0dffc2-5950-4ed6-938e-83498b9ad394" class="">The data link layer <mark class="highlight-yellow_background">is responsible to move the frames from one node (host or router) to the next node</mark>. More specifically, assuming we have a sender and receiver host, the network layer will route the datagram through multiple routers across the path between the sender and the receiver. At each node across this path, the network layer passes the datagram to the data link layer, which in turn delivers the datagram to the next node. Then, at that node, the link layer passes the datagram up to the network layer.</p><p id="fe04bc4d-40a4-4253-861d-db52fd916233" class=""><mark class="highlight-yellow_background">The data link layer offers services that depend on the data link layer protocol that is used over the link.</mark> Some example services include <mark class="highlight-red">reliable delivery</mark>, that covers the transmission of the data from one transmitting node, across one link, and finally to the receiving node. We note that this specific type of reliable delivery service is different from the reliable delivery service that is offered by the TCP protocol which offers reliability from the source host to the destination end host.</p><h3 id="c4babcb7-235b-467f-8988-02fa1bd15e18" class="block-color-pink_background"><strong>The physical layer</strong>:</h3><p id="3d39b4f0-9858-4a38-bd0b-37fad042caf4" class="">The physical layer <mark class="highlight-yellow_background">facilitates the interaction with the actual hardware and is responsible to transfer bits within a frame between two nodes that are connected through a physical link</mark>. The protocols in this layer again depend on the link and on the actual transmission medium of the link. One of the main protocols in the data link layer, Ethernet, has different physical layer protocols for twisted-pair copper wire, coaxial cable, and single-mode fiber optics.</p><p id="acedbf33-f2ba-4fea-96b6-a470039f277d" class="">
</p><p id="2e38e5c8-fd52-4a0a-984d-41e3a09dd127" class="">
</p><h1 id="97af5ffc-1790-46fe-9822-7d49634d8bb4" class="block-color-pink">Layers Encapsulation</h1><p id="79b57e08-1616-4837-b786-3147ce44c232" class=""><mark class="highlight-teal_background"><strong>How do the layers and the protocols that run on each layer communicate with each other?</strong></mark> To understand <mark class="highlight-red">the concepts of encapsulation and de-encapsulation</mark>, let’s take a look at the following diagram which shows the physical path that data take from the sending host to the receiving host.</p><figure id="9f77181c-fc81-47f7-b5f6-546adbeefbf5" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%203.png"><img style="width:674px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%203.png"/></a></figure><p id="46635799-bcd7-4452-a49d-6fe8f1415749" class=""><mark class="highlight-teal_background"><strong>Encapsulation and De-encapsulation.</strong></mark> The sending host sends an application layer message M to the transport layer. <mark class="highlight-yellow_background">The transport layer receives the message, and it appends the transport layer header information (Ht)</mark>. The application message along with the transport layer header is called <mark class="highlight-red">segment </mark>(or transport-layer segment). <mark class="highlight-yellow_background">The segment thus encapsulates the application layer message</mark>. This added information can help the receiving host to a) inform the receiver-side transport layer about which application to deliver the message up to, and b) perform error detection and determine whether bits in the message have been changed along the route.</p><p id="aa7a5d59-5b33-43b0-939f-de2e5ce21db3" class=""><mark class="highlight-yellow_background">The segment is then forwarded to network layer which in turn, adds it’s own network header information (Hn)</mark>. The entire combination of the segment and the network header is called <mark class="highlight-red">datagram</mark>. We say that the datagram encapsulates the segment. The header information that the network layer appends <mark class="highlight-yellow_background">includes the source and destination addresses of the end hosts</mark>. The same process continues for the <mark class="highlight-yellow_background">link layer which in turn it appends its own header information(Hl)</mark>. The message at the link layer is called <mark class="highlight-red">frame</mark>, which is transmitted across the physical medium. At each layer the message is a combination of two parts: a) the payload which is the message from the layer above, and b) the new appended header information. At the receiving end, the process is reversed, with headers being stripped off at each layer. This reverse process is known as de-encapsulation.</p><p id="8dedd9c7-82e5-4549-9471-8e42707e3f3f" class=""><mark class="highlight-teal_background"><strong>Intermediate devices and encapsulation.</strong></mark> The path that connects the sending and the receiving hosts may include intermediate layer-3 devices, such as routers, and layer-2 devices such as switches. We will see later how switches and routers work, but for now we note that both routers and layer-2 switches implement protocol stacks similarly to end-hosts. The difference is that routers and layer-2 switches do not implement all the layers in the protocol stack; <mark class="highlight-red">routers implement layers 1 to 3</mark>, and <mark class="highlight-red">layer-2 switches implement layers 1 to 2</mark>. So, going back to our diagram, when the data leave the sending host and they are received by the layer-2 switch, the switch implements the same process of de-encapsulation to process the data and encapsulation to send the data forward to the next device.</p><p id="2372b2ff-6084-4bac-930e-a94d8e9a4ded" class=""><mark class="highlight-teal_background"><strong>A design choice.</strong></mark> We note again that end-hosts implement all five layers while the intermediate devices don’t. <mark class="highlight-yellow_background">This design choice ensures that the Internet architecture puts much of its complexity and intelligence at the edges of the network while keeping the core simple</mark>. Next, we will look deeper into the so-called end-to-end principle.</p><p id="90cc5388-a88d-4df5-ab15-00d254ce8428" class="">
</p><p id="4c98e0ef-4b8e-46ce-ac17-353088e455e3" class="">
</p><h1 id="26e8fba3-b01b-41af-bfb5-551cfcbac029" class="block-color-pink">The End to End Principle</h1><p id="3b0aa3fa-7ecf-4a32-9c27-b96a78332a6e" class="">The end-to-end (e2e) principle is a design choice that characterized and shaped significantly the current architecture of the Internet. <mark class="highlight-yellow_background">The e2e principle suggests that specific application-level functions usually cannot, and preferably should not be built into the lower levels of the system at the core of the network.</mark></p><p id="15be2f2c-4c6c-4a7c-af81-34b3df189e97" class="">In simple terms, the e2e principle is summarized as: <mark class="highlight-yellow_background">the network core should be simple and minimal, while the end systems should carry the intelligence</mark>. As mentioned in the seminal paper “End-to-End Arguments in System Design” by Saltzer, Reed, and Clark: “The function in question can completely and correctly be implemented only with the knowledge and help of the application standing at the endpoints of the communications system. Therefore, providing that questioned function as a feature of the communications systems itself is not possible.”</p><p id="f2408c43-b4d8-4662-a7a6-83f521e3f0f5" class="">The same paper reasoned that <mark class="highlight-red">many functions can only be completely implemented at the endpoints of the network</mark>, <mark class="highlight-yellow_background">so any attempt to build features in the network to support specific applications must be avoided</mark>, or only viewed as a tradeoff. The reason was that not all applications need the same features and network functions to support them. Thus building such functions in the network core is rarely necessary. <mark class="highlight-yellow_background">So, systems designers should avoid building any more than the essential and commonly shared functions into the network.</mark></p><p id="7aab40f7-fad1-4452-bc1a-3a730a6db86f" class="">Many people argue that <mark class="highlight-red">the e2e principle allowed the internet to grow rapidly</mark>, because <mark class="highlight-yellow_background">evolving innovation took place at the network edge, in the form of numerous applications</mark> and a plethora of services, rather than in the middle of the network, which could be hard to later modify.</p><p id="c59b500f-4e4b-471c-a0c0-b5a661fbede4" class="">What were the designers’ original goals that led to the e2e principle? Moving functions and services closer to the applications that use them, <mark class="highlight-red">increases the flexibility and the autonomy of the application designer</mark> to offer these services to the needs of the specific application. Thus, the higher-level protocol layers, are more specific to an application. Whereas <mark class="highlight-yellow_background">the lower-level protocol layers are free to organize the lower-level network resources</mark> to achieve application design goals more efficiently and independently of the specific application.</p><p id="19cd705b-bd9a-4f15-a857-c043c44e0f0e" class="">
</p><p id="c3a6e2d9-0c8b-4f1a-9c13-d523c8c8af68" class="">
</p><h1 id="7472fa8e-6037-4275-a14e-a1aa6f1b3d49" class="block-color-pink">Violations of the End-to-End Principle and NAT Boxes</h1><p id="e42f6df5-ba30-4058-828c-ba6ff83530d6" class="">Despite the fact that the e2e principle offers multiple advantages to the Internet and its evolution, there have still been cases where this principle needs to be violated.</p><h3 id="8d2d8938-72ce-4b8c-8eba-3caf8ba5cad0" class="block-color-pink_background"><strong>Some examples of the e2e violation:</strong></h3><p id="c1ab4c6c-7846-415d-bd9f-501230464fda" class="">Examples include <mark class="highlight-red">firewalls and traffic filters</mark>. The firewalls usually operated at the periphery of a network and they monitor the network traffic that is going through, to allow or drop traffic, if the traffic is flagged as malicious. <mark class="highlight-yellow_background">Firewalls violate the e2e principle since they are intermediate devices that are operated between two end hosts and they can drop the end hosts communication.</mark></p><p id="614ab8a0-1a7b-46a0-ae3c-84472f51c7e4" class="">Another example of an e2e violation is the <mark class="highlight-red">Network Address Translation (NAT) boxes</mark>. <mark class="highlight-yellow_background">NAT boxes help us as a bandaid measure to deal with the shortage of Internet addresses</mark>. Let’s see in more detail how a NAT-enabled home router operates. Let’s assume we have a home network, where we have multiple devices we want to connect to the Internet. An internet service provider typically assigns a single public IP address (<mark class="highlight-red">82.10.250.19</mark>) to the home router and specifically to the interface that is facing the public global Internet, as shown in the figure below.</p><figure id="55bd1b7d-e64d-4bfc-bdf6-1e4583e94297" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%204.png"><img style="width:672px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%204.png"/></a></figure><p id="151610fb-e4f7-4d4c-a953-6feef0e9d493" class="">The other interface of the NAT-enabled router that is facing the home network (along with all other device-interfaces in the home network) gets an IP address that belongs to <mark class="highlight-red">the same private subnet</mark>. This subnet must belong to the address spaces that are reserved as private, eg 10.0.0/24 or <mark class="highlight-red">192.168.0.0/24</mark>. <mark class="highlight-yellow_background">This means that the IP addresses that belong to this private subnet only have meaning to devices within that subnet</mark>. So <mark class="highlight-red">we can have hundreds of thousands of private networks with the same address range</mark> (eg 10.0.0.0/24). But, <mark class="highlight-yellow_background">these private networks are always behind a NAT, which takes care of the communication between the hosts on the private network and the hosts on the public Internet.</mark></p><p id="2c61a18a-b47c-48fc-b068-52b888e05d9c" class="">All traffic that leaves the home router and it is destined to hosts in the public Internet <mark class="highlight-yellow_background">must have as the source IP address the IP of the public facing interface of the NAT-enabled router</mark>. Similarly,<mark class="highlight-red"> all traffic that enters the home network through the router, must have as the destination address the IP of the public facing interface of the NAT-enabled router</mark>. <mark class="highlight-yellow_background">The home router plays the role of a translator maintaining a NAT translation table, and it rewrites the source and destination IP addresses and ports.</mark></p><figure id="6bd2c127-5bdf-49f7-ab1d-e968845497fd" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%205.png"><img style="width:673px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%205.png"/></a></figure><p id="6adeacc8-a75a-4145-a158-b98560d0592e" class=""><mark class="highlight-yellow_background">The translation table provides a mapping between the public facing IP address/ports, and the IP addresses/ports that belong to hosts inside the private network</mark>. For example, let’s assume that a host 10.0.0.1 inside the private network, uses port 3345 to send traffic to a host in the public Internet with IP address 128.119.40.186 and port 80. Then the NAT table says that packets with the source IP address of 10.0.0.1 and source port 3345, they should be rewritten to a source address 138.76.29.7 and a source port of 5001 (or any source port number that is not currently used in the NAT translation table). Similarly, <mark class="highlight-red">packets with a destination IP address of 138.76.29.7 and destination port of 5001, they will be rewritten to destination IP address 10.0.0.1 and destination port 3345.</mark></p><h3 id="595625dc-644c-4c45-af23-37b80c6c28db" class="block-color-pink_background"><strong>Why the NAT boxes violate the e2e principle?</strong></h3><p id="aac18d64-6d36-4612-bd65-a191cff07760" class="">The hosts that are behind NAT boxes are not globally addressable, or routable. As a result, <mark class="highlight-yellow_background">it is not possible for other hosts on the public Internet to initiate connections to these devices.</mark> So, if we have a host behind a NAT and a host in the public Internet, then <mark class="highlight-yellow_background">by default they cannot communicate without the intervention of a NAT box.</mark></p><p id="3282bb32-a40b-471b-a98f-02fe1ed3889b" class="">There are some workarounds to <mark class="highlight-red">allow hosts to initiate connections to hosts that behind NATs</mark>. Some example tools and protocols include <mark class="highlight-yellow_background">STUN </mark>(<mark class="highlight-red">a tool that allows hosts to discover NATs and the public IP address and port number that the NAT has allocated</mark> for the application that the host wants to communicate with), and <mark class="highlight-yellow_background">UDP hole punching</mark> (it <mark class="highlight-red">established bidirectional UDP connections between hosts behind NATs</mark>).</p><p id="8be32d0b-e0ca-4212-b80a-cde0565e9d79" class="">
</p><p id="c88def4b-6333-4e66-8e1d-bc36cf0963cb" class="">
</p><h1 id="232a26b7-3d08-467d-a355-cebba4bba11e" class="block-color-pink">The Hourglass Shape of Internet Architecture</h1><p id="16efad9e-7838-4963-aabf-d380764cf1ea" class="">The Internet protocol stack has a layered architecture that resembles an hourglass shape. Was the Internet architecture always shaped like an hourglass, and there has always been a single protocol at the network layer? If we look back in the early nineties, we will see that <mark class="highlight-yellow_background">there were several other network-layer protocols that were competing with IPv4</mark>. For example, Novell’s IPX and the X.25 network protocol used in Frame Relay. So the network layer did not include only one protocol, but there were multiple protocols that were competing with each other at that time.</p><p id="bd20398b-fcac-4e37-a038-8f2f46837c73" class="">Why has there have been more frequent innovations at the lower or higher layers of the protocol hourglass? Why have the protocols at the waist of the hourglass (mostly IPv4, TCP, and UDP) been difficult to replace, and have they outcompeted any protocols that offer the same or similar functionalities? Looking ahead, and assuming that we want to design and introduce new and potentially better protocols, how can we make it more likely that the new protocols will outcompete and replaces existing and widely used incumbent protocols?</p><p id="6f53a28a-e930-4f77-8b86-2c24b7784b0d" class="">Researchers have suggested a model called <mark class="highlight-yellow_background">the Evolutionary Architecture model, or </mark><mark class="highlight-yellow_background"><em>EvoArch</em></mark><mark class="highlight-yellow_background">, that can help to study layered architectures and their evolution in a quantitative manner</mark>. Through this model researchers were able to explain how the hierarchical structure of the layer architecture eventually lead to the hourglass shape.</p><p id="1e88ed66-97f2-48bc-81ab-3bfa5054bcba" class="">In the next topic, we will talk about the details of the model and how it can help us explain the evolution of the Internet architecture.</p><p id="d0bb93c0-f415-4155-8cdc-5036e788adda" class="">
</p><p id="3115c81c-140f-4e97-be95-40fe7f9b3c25" class="">
</p><h1 id="8f19ede6-e6ff-4e7f-aa3c-6d6b9df12088" class="block-color-pink">Evolutionary Architecture Model</h1><figure id="36911c07-758b-4b1a-9c24-46f1d3a91e7d" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%206.png"><img style="width:1920px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%206.png"/></a></figure><p id="76ca3917-645c-40cd-a469-970fd648403b" class="">
</p><figure id="94ede9f1-9905-48e7-bf65-6b4848d7885f" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%207.png"><img style="width:1920px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%207.png"/></a></figure><p id="7876c7c4-a73d-456c-a43b-8587885a528f" class="">In this section, we will talk about a model that attempts to answer our previous questions. Researchers have suggested a model - <mark class="highlight-yellow_background">the Evolutionary Architecture model or EvoArch</mark> - that can <mark class="highlight-red">help to study layered architectures,</mark> and their evolution in a quantitative manner. The EvoArch model considers an abstract model of the Internet’s protocol stack that has the following components:</p><ul id="6401cacc-9dcc-4d3c-a2b4-816805a31901" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Layers.</strong></em></mark><em> </em>A protocol stack is modeled as a directed and acyclic network with L layers.</li></ul><ul id="a9a2829a-5ff7-4f7c-9da4-7a9f683c704c" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Nodes.</strong></em></mark> Each network protocol is represented as a node. The layer of a node u is denoted by <mark class="highlight-red">l(u)</mark>.</li></ul><ul id="a0562bed-4930-441c-8d02-c8be53ac7306" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Edges.</strong></em></mark> Dependencies between protocols are represented as directed edges.</li></ul><ul id="d91fe30f-7495-46a4-87ce-a06af78d9769" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Node incoming edges.</strong></em></mark> If a protocol u at layer l uses the service provided by a protocol w at the lower layer l−1, then this is represented by an “upwards” edge <mark class="highlight-red">from w to u</mark>.</li></ul><ul id="c5495023-f6d9-4aa5-a585-abdb24092112" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Node substrates.</strong></em></mark><em> </em>We refer to substrates of a node u, S(u), as the set of nodes that u is using their services. Every node has at least one substrate, except the nodes at the bottom layer.</li></ul><ul id="d2020fd4-925a-461b-981c-2720602d7baa" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Node outgoing edges.</strong></em></mark> The outgoing edges from a node u terminate at the products of u. <mark class="highlight-red">The products of a node u are represented by P(u)</mark>.</li></ul><ul id="c1b45c48-7965-4b8d-b169-63c9cb5966f0" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Layer generality.</strong></em></mark><em> </em>Each layer is associated with a probability s(l), which we refer to as layer generality. A node u at layer l+1 selects independently each node of layer l as the substrate with probability s(l). <mark class="highlight-red">The layer generality decreases as we move to higher layers, and thus protocols at lower layers are more general in terms of their functions</mark> or provided services than protocols at higher layers. For example, in the case of the Internet protocol stack, layer 1 is very general and the protocols at this layer offer a very general bit transfer service between two connected points, which most higher layer protocols would use.</li></ul><ul id="e96f9d25-2ccf-4d88-8c04-2558da21fbd4" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Node evolutionary value.</strong></em></mark><em> </em><mark class="highlight-red">The value of a protocol node, v(u)</mark>, is computed recursively based on the products of u. By introducing the evolutionary value of each node, the model captures the fact that the value of a protocol u is driven by the values of the protocols that depend on it. For example, let’s consider again the Internet protocol stack. <mark class="highlight-red">TCP has a high evolutionary value because it is used by many higher layer protocols and some of them being valuable themselves.</mark> Let’s assume that we introduce a brand new protocol, at the same layer as TCP, that may have better performance or other great new features. <mark class="highlight-red">The new protocol’s evolutionary value will be low if it is not used by important or popular higher layer protocols, regardless of the great new features it may have</mark>. So the evolutionary value determines <mark class="highlight-yellow_background">if the protocol will survive the competition with other protocols, at the same layer, that offer similar services.</mark></li></ul><ul id="bd546b16-a9ff-40a4-ba8b-77622f73cb58" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Node competitors and competition threshold.</strong></em></mark><mark class="highlight-teal_background"><em> </em></mark>We refer to the <mark class="highlight-red">competitors of a node u, C(u)</mark>, as the nodes at layer l that share at least a fraction c of node u’s products. We refer to the fraction c, as the competition threshold. So, <mark class="highlight-red">a node w competes with a node u, if w shares at least a fraction c of u’s products</mark>.</li></ul><ul id="9d1ab1b7-b72c-48c5-ac90-3147c5d426c1" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Node death rate.</strong></em></mark> The model has a death and birth process in place, to account for the protocols that cease or get introduced respectively. <mark class="highlight-red">The competition among nodes becomes more intense, and it is more likely that a protocol u dies if at least one of its competitors has a higher value than itself</mark>. When a node u dies, then its products also die, if their only substrate is u.</li></ul><ul id="a5820f1a-ee08-4b9d-a393-7f3cb86e1a80" class="bulleted-list"><li><mark class="highlight-teal_background"><em><strong>Node basic birth process.</strong></em></mark><em> </em>The model, in its simplest version, has a basic birth process in place, where a new node is assigned randomly to a layer. The number of new nodes at a given time is set to a small fraction (say 1% to 10%) of the total number of nodes in the network at that time. <mark class="highlight-red">So, the larger a protocol stack is, then the faster it grows.</mark></li></ul><h3 id="9b9bbea3-9d6e-4b02-809b-f27b49ffe5b6" class=""><strong>Toy example:</strong></h3><p id="1d1e1467-2ac7-41cc-bc2e-084447cd14c8" class="">To illustrate the above model and the parameters, let’s consider a toy network <mark class="highlight-red">example with L equal to 4 layers</mark>. The evolutionary value of each node is shown inside each circle. The generality probability for each layer is shown at the left of each layer, and it is denoted as s(l). As we noted earlier, <mark class="highlight-yellow_background">the generality of the layers decreases as we move to higher layers</mark>, <mark class="highlight-yellow_background">so on average, the number of products per node decreases as well</mark>. Let’s further assume that we have a competition threshold c = ⅗. Nodes u, q and w compete in layer 2. U and q compete, but this is unlikely to cause q to die because u and q have comparable evolutionary values. In contrast, it is likely that w will die because its value is much less than that of its maximum-value competitor, u.</p><p id="2f91f765-07bf-4227-8821-af3868c14ede" class="">
</p><figure id="f7e62d7e-77aa-42e7-9917-2081285a5a37" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%208.png"><img style="width:1920px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%208.png"/></a></figure><h3 id="fe02da9d-f475-403e-a894-2ad10404a3d1" class="block-color-pink_background"><strong>EvoArch iterations:</strong></h3><p id="902dc76e-b53f-4b9f-846b-01a9c47c54ec" class=""><mark class="highlight-yellow_background">EvoArch is a discrete-time model that is executed over rounds.</mark> At each round, we perform the following steps: <mark class="highlight-yellow_background">A) We introduce new nodes, and we place them randomly at layers</mark>. <mark class="highlight-yellow_background">B) We examine all layers, from the top to the bottom, and we perform the following tasks</mark>: <mark class="highlight-red">1) We connect the new nodes that we may have just introduced to that layer,</mark> by choosing substrates based on the generality probabilities of the layer below s(l−1), and by choosing products for them based on the generality probability of the current layer s(l). <mark class="highlight-red">2) We update the value of each node at each layer l, </mark>given that we may have new nodes added to the same layer l. <mark class="highlight-red">3) We examine all nodes,</mark> in order of decreasing value in that layer, and remove the nodes that should die. <mark class="highlight-yellow_background">C) Finally, we stop the execution of the model when the network reaches a given number of nodes.</mark></p><p id="9182d604-13fc-4fae-be42-bf2418d94568" class="">The figure above shows the width of each layer we execute the EvoArch model for a network of 10 layers over multiple rounds. <mark class="highlight-orange_background">The main takeaway message from this figure is that the layer width decreases as we move from the bottom layer to a middle layer, around layer 5, and then it increases again as we move towards the top layer</mark>.</p><h3 id="ffaa4996-0698-4596-8e2d-5f94efb7cd69" class="block-color-pink_background"><strong>Implications for the Internet Architecture and future Internet architecture:</strong></h3><p id="94f6ec2b-ca13-4fff-ba25-233520f570f0" class="">With the help of the EvoArch model, how can we explain the survival of the TCP/IP stack given that it appeared around the 70s or 80s when the telephone network was very powerful? <mark class="highlight-yellow_background">The EvoArch model suggests that the TCP/IP stack was not trying to compete with the telephone network services. </mark><mark class="highlight-red">The TCP/IP was mostly used for applications such as FTP, E-mail, and Telnet</mark>, so <mark class="highlight-orange_background">it managed to grow and increase its value without competing or being threatened by the telephone network</mark>, at that time that it first appeared. Later it gained even more traction, with numerous and powerful applications relying on it.</p><p id="6cc55e06-f668-48b5-9e89-f0cecbbb934c" class=""><mark class="highlight-yellow_background">IPv4, TCP, and UDP provide a stable framework through which there is an ever-expanding set of protocols at the lower layers (physical and data-link layers), as well as new applications and services at the higher layers.</mark> <mark class="highlight-red">But at the same time, these same protocols have been difficult to replace or even modify significantly</mark>. EvoArch provides an explanation for this. <mark class="highlight-orange_background">A large birth rate at the layer above the waist can cause death for the protocols at the waist</mark> if these are not chosen as substrates by the new nodes at the higher layers. The waist of the Internet architecture is narrow, but also the next higher layer (the transport layer) is also very narrow and stable. <mark class="highlight-yellow_background">So, the transport layer acts as an “evolutionary shield” for IPv4, because any new protocols that might appear at the transport layer are unlikely to survive the competition with TCP and UDP which already have multiple products</mark>. In other words, <mark class="highlight-red">the stability of the two transport protocols adds to the stability of IPv4, by eliminating any potential new transport protocols</mark>, that could select a new network layer protocol instead of IPv4.</p><p id="a6f5da54-0191-4247-aeb3-040650674e46" class="">Finally, in terms of future and entirely new Internet architectures, <mark class="highlight-yellow_background">the EvoArch model predicts that even if these brand new architectures do not have the shape of an hourglass initially, they will probably do so as they evolve</mark>, which will lead to new ossified(굳어지다) protocols. The model suggests that <mark class="highlight-orange_background">one way to proactively avoid these ossification effects</mark>, that we now experience with TCP/IP, <mark class="highlight-orange_background">a network architect should try to design the functionality of each layer so that the waist is wider</mark>, consisting of several protocols that offer largely <mark class="highlight-orange_background">non-overlapping but general services</mark>, <mark class="highlight-orange_background">so that they do not compete with each other</mark>.</p><p id="f2aa228b-c6d9-46e8-b134-23e08c1229bd" class="">
</p><p id="83dea611-ecd6-456e-9054-bb3cd5d28327" class="">
</p><h1 id="dcfd10d1-879c-4d11-80d0-edb51fd15f40" class="">Optional Reading: Architecture Redesign</h1><h3 id="4b2dba95-02d2-4812-8523-bb2acf3a3e17" class=""><strong>Why a clean-slate design approach?</strong></h3><p id="d762e2d5-5382-4fbc-a6bb-03e0cb75a597" class="">Some of the major design principles of the current Internet architecture are layering, packet switching, a network of collaborating networks, intelligent end-systems as well as the end-to-end argument. Despite our initial intentions, the Internet is currently facing major challenges in multiple areas such as security, resilience and availability, scalability and management, quality of service, user experience, and economics. But what if we redesigned the Internet architecture from scratch? Many researchers believe that it is necessary, and timely, to rethink the fundamental assumptions and design decisions via a clean-slate design approach. That clean-slate approach would be based on out of the box thinking, the design of new network architectures, and experimentation to evaluate the new ideas, to improve them and also to give them a realistic chance of deployment.</p><h3 id="0ca9d410-ffdc-4cf9-8bdf-ddc1661381a3" class=""><strong>The clean-slate design as a process:</strong></h3><p id="e8b7fe39-43df-4db9-a609-ee74af896fb0" class="">An important aspect about designing new Internet architectures through a clean-slate approach, is the ability to deploy and thoroughly test them, which can take place at an appropriate experimental facility. Such a facility has to fulfill some requirements such as offer a large scale infrastructure, include different technologies, attract real users and their traffic, enable parallel experiments with distinct networking architectures such as different naming schemes, different layering approaches, and different forwarding techniques, while at the same time, new services should be able to explore the new capabilities and should be made available to users who opt-in. In this context, a clean-slate should be viewed as a design process, rather than as a result in itself. Through this process, we may identify innovative services and applications, which may become mature enough to be commercially deployed on the existing Internet. Another possibility may be that we may create an entirely new network architecture, which eventually replaces today’s architecture. Or perhaps, the most “conservative” outcome may even be that we learn that the current Internet architecture is the “best” possible solution. On the other hand, the most “radical” outcome can be that such an experimental facility, which allows multiple sub-system architectures and network services to co-exist, becomes the blueprint for the future Internet.</p><h3 id="e59f26d1-dd62-4d08-a7d1-d0509bbefc7b" class=""><strong>Redesigning the Internet architecture to optimize for control and management:</strong></h3><p id="1f9b0e5f-b894-4fd3-90cd-7567f8299456" class="">One research group (“4D”) for example, started from a small set of clean slate design principles different from those of the Internet today: network-level objectives, network-wide views, and direct control, with functionality in four components: the data, discovery, dissemination, and decision planes. In their work, the decision plane has a network-wide view of the topology and traffic, and exerts direct control over the operation of the data plane – radically different from today’s Internet - no decision logic is hardwired in protocols distributed among the network elements. The output of the decision logic is communicated to routers/switches by the dissemination plane. Their work investigates an extreme design point where the decision logic is completely separated from distributed protocols. The 4D group argues that technology trends toward ever-more powerful, reliable, and inexpensive computing platforms make their design point attractive in practice. [Greenberg 2005]</p><h3 id="6b2a371d-b13a-48a1-acb3-390ec4c7214e" class=""><strong>Redesigning the Internet architecture to offer better accountability:</strong></h3><p id="4124a180-724b-4ae4-9524-35ad7fa6e9e6" class="">Given the fact that IP network layer provides little to no protection against misconfiguration or malicious actions which occur frequently, Researchers proposed network “accountability” in order to establish the foundation for defenses against those behaviors. Accountability is an ability to associate each action with the responsible entity. The proposed work addressed two accountabilities, i.e., source accountability and control-plane accountability, and illustrated that both accountabilities could be improved by a network layer called Accountable Internet Protocol (AIP).</p><p id="354edb43-9d6a-45c4-adbb-d7b3e1f686b1" class="">Source accountability is the ability to trace actions to a particular end host and stop that host from misbehaving. It is necessary to describe the address format of AIP first and then illustrate how AIP improved source accountability. AIP addresses are of the form AD:EID, where AD is the identifier for the network that the host belongs to, and EID is a globally unique host identifier. For source accountability, AIP makes use of this self-certifying addressing to develop simple mechanisms that verify the source of packets and drop the packets if the sources are spoofed. In addition, AIP can throttle certain forms of unwanted traffic using a simple “shut-off message”.</p><p id="259fd0fa-3b7e-42e5-9754-3b5c01986db0" class="">Control-plane accountability is the ability to pinpoint and prevent attacks on routing. The proposed work suggested ways to improve control-plane accountability by providing origin authentication (ensuring that the network that appears to originate paths is indeed the correct network) and path authentication (checking the integrity of the network path) to detect misleading route advertisements.</p><p id="8c935f36-9c26-4f57-9c59-59e8263daf44" class="">
</p><p id="5eb92236-0b2f-4a25-bf3a-f1307a6f0535" class="">
</p><p id="ee3e3ac9-0b0e-41ef-9fc1-7a868484a656" class="">
</p><h1 id="8f8493ba-4036-4c1d-8340-ba1ec3b0756c" class="block-color-pink">Interconnecting Hosts and Networks</h1><p id="586769ca-c072-4155-8cff-b7706531c071" class="">We have different types of devices that help to provide connectivity between hosts that are in the same network, or help interconnect networks. These devices offer different services and they operate over different layers.</p><p id="98ba3fff-1343-4eb5-81a9-8e4f071b23e4" class=""><mark class="highlight-teal_background"><em><strong>Repeaters and Hubs</strong></em></mark><mark class="highlight-teal_background"><em>:</em></mark> <mark class="highlight-yellow_background">They operate on the physical layer (L1)</mark>, as they receive and forward digital signals to connect different Ethernet segments. They provide connectivity between hosts that are directly connected (in the same network). The advantage is that they are simple and inexpensive devices, and they can be arranged in a hierarchy. Unfortunately, hosts that are connected through these devices belong to the same collision domain, meaning that they compete for access to the same link.</p><p id="08951c57-bd60-475d-80da-f413121bcf4c" class=""><mark class="highlight-teal_background"><em><strong>Bridges and Layer2-Switches:</strong></em></mark> These devices <mark class="highlight-yellow_background">can enable communication between hots that are not directly connected</mark>. They operate on the data link layer <mark class="highlight-yellow_background">(L2) based on MAC addresses</mark>. They receive packets and they forward them to reach the appropriate destination. A limitation is the finite bandwidth of the outputs; If the arrival rate of the traffic is higher than the capacity of the outputs then packets are temporarily stored in buffers. But if the buffer space gets full, then this can lead to packet drops.</p><p id="de5ade1b-478a-441c-bea8-949151307519" class=""><mark class="highlight-teal_background"><em><strong>Routers and Layer3-Switches:</strong></em></mark> These are devices that operate on <mark class="highlight-yellow_background">Layer 3</mark>. We will talk more about these devices and the routing protocols on the following lectures.</p><p id="18d39c25-64e5-40f9-95b5-d2ec93493322" class="">
</p><p id="20502020-c009-4149-9039-7cb193d042b1" class="">
</p><h1 id="5ffdf51f-3c3e-4491-8d58-c4131088f63b" class="block-color-pink">Learning Bridges</h1><p id="312ab87a-1516-4dc8-954f-17092bd33833" class="">A bridge is a device with multiple inputs/outputs. <mark class="highlight-yellow_background">A bridge transfers frames from an input to one (or multiple) outputs.</mark> Though it doesn’t need to forward all the frames it receives. In this topic we will talk about how a bridge learns how to perform that task.</p><p id="224d830b-b529-4156-a19f-416ce6cb68d2" class="">A learnings bridge learns, populates and maintains, a forwarding table. <mark class="highlight-yellow_background">The bridge consults that table so that it only forwards frames on specific ports, rather than over all ports.</mark></p><p id="0983e59d-89ef-41d0-8e53-16b1816e7f33" class="">For example, let’s consider the topology on the following figure. When the bridge receives a frame on port 1, with source Host A and destination Host B, the bridge does not have to forward it to port 2.</p><figure id="e15613c7-9abc-447d-831d-82c5f4ea696b" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%209.png"><img style="width:1920px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%209.png"/></a></figure><p id="36c553a2-87e8-4911-bda4-44d6cbc7b196" class="">So how does the bridge learn? When the bridge receives any frame this is a “learning opportunity” to know which hosts are reachable through which ports. This is because the bridge can view the port over which a frame arrives and the source host. Going back to our example topology, eventually the bridge builds the following forwarding table.</p><figure id="020a3114-fdd1-42bd-b8f6-c9f42f9a0b60" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%2010.png"><img style="width:1920px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%2010.png"/></a></figure><p id="7bbbf203-9f77-419a-9d72-b976b8c47dde" class="">
</p><p id="6849e7c7-ff5f-4c1f-9921-abaff10c6451" class="">
</p><p id="e5983f33-ddc5-43ff-a843-87be3dfc17df" class="">
</p><h1 id="dd74fc7b-8e37-49b9-88be-a96bac960778" class="block-color-pink">Looping Problem in Bridges and the Spanning Tree Algorithm</h1><p id="1200d533-745e-48f1-95e9-e8a84b28de53" class=""><mark class="highlight-yellow_background">Unfortunately using bridges to connect LAN’s fails, if the network topology results in loops (cycles).</mark> In that case, the bridges loop through packets forever!</p><p id="6afa1166-c116-487e-91ea-ce74cc4cd51d" class=""><mark class="highlight-yellow_background">The answer to this problem is excluding links that lead to loops by running the spanning tree algorithm.</mark> Let’s represent the topology of the network as a graph. The bridges are represented as nodes and the links between the bridges are represented as edges. <mark class="highlight-yellow_background">The goal of the spanning tree algorithm is to have the bridges select which links (ports) to use for forwarding eliminating loops.</mark></p><p id="04a86678-de16-4952-92cf-4bff6ce5cc03" class="">Let’s take a look at how bridges run this distributed algorithm.</p><p id="4dac0240-461c-4f2c-b9a9-3c303a30f780" class="">Every node (bridge) in the graph has an ID. The bridges eventually select one bridge as the root of the topology. Let’s see how this selection happens.</p><p id="a4cf23b7-2fad-481d-babd-d0b4a0448c82" class=""><mark class="highlight-yellow_background">The algorithm runs in “rounds”</mark> and <mark class="highlight-yellow_background">at every round each node sends to each neighbor node a configuration message with three fields</mark>: <mark class="highlight-red">a) the sending node’s ID</mark>, <mark class="highlight-red">b) the ID of the roots as perceived by the sending node</mark>, and <mark class="highlight-red">c) the number of hops between that (perceived) root and the sending node</mark>.</p><p id="258cc7f8-b9a8-44c9-876e-696eb6f787d8" class="">At every round, <mark class="highlight-yellow_background">each node keeps track of the best configuration message</mark> that it has received so far, <mark class="highlight-yellow_background">and it compares that against the configuration messages it receives from neighboring nodes</mark> at that round.</p><p id="86d4fcff-e701-4b77-8c11-3e2c61f73074" class=""><mark class="highlight-yellow_background">At the very first round of the algorithm, every node thinks that it is the root</mark>. So for a node with an ID 3 for example, the node sends a configuration message &lt;3, 3, 0&gt; to its neighbors. Note that the distance of the node from itself (perceived root) is 0.</p><p id="c6b44676-5385-4bcc-a039-f5cd67b9ab89" class="">So how does a node compare two configuration messages? <mark class="highlight-yellow_background">Between two configurations, a node selects one configuration as better if</mark>: <mark class="highlight-red">a) The root of the configuration has a smaller ID</mark>, <mark class="highlight-red">or if b) The roots have equal IDs, but one configuration indicates smaller distance from the root</mark>, <mark class="highlight-red">or if c) Both roots IDs are the same and the distances are the same, then the node breaks the tie by selecting the configuration of the sending node that has with the smallest ID</mark>. In addition, a node stops sending configuration messages over a link (port), when the node receives a configuration message that indicates that it is not the root, eg when it receives a configuration message from a neighbor that: <mark class="highlight-red">a) either closer to the root</mark>, or <mark class="highlight-red">b) it has the same distance from the root, but it has a smaller ID.</mark></p><p id="650c258f-7f26-4910-b9cd-01b573637027" class="">As an example, let’s consider the topology below. By running the above steps on this topology, we note that in the first round B3 receives (B2,B2,0) and (B5,B5,0), so it accepts B2 as the root. So in the second round it sends (B3,B2,1) to its neighbors.</p><p id="c7ff4612-3b73-4c28-9dee-fb5327d81969" class="">Similarly for B2; In the first round, B2 receives (B3,B3,0) and (B1,B1,0), it accepts B1 as the root. So in the second round B2 sends (B2,B1,1).</p><p id="a90922d6-81ae-4bb4-b2e1-2262991de398" class="">Finally, B5 receives configuration messages from B3, B7 and B1. B5 accepts B1 as root and sends (B5, B1, 1) to B3. This results to B3 also accepting B1 as root. In addition, B3 realizes that both its neighbors, namely B2 and B5 are closer to the root (B1) than itself. This causes B3 to not select any of its links (ports). So B3 stops participating in forwarding traffic.</p><figure id="bb905b91-9cd4-4781-94ed-73c2697f1a60" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%2011.png"><img style="width:673px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%2011.png"/></a></figure><p id="935e093c-c0c9-4582-810d-f6c8125b24fb" class="">The resulting spanning tree is:</p><figure id="04034fc1-e6f7-455f-9e62-df147f16ba35" class="image"><a href="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%2012.png"><img style="width:675px" src="Lesson%201%20Introduction,%20History%20and%20Internet%20Archit%20f8e3cf12fd824b43b033bb4e21279fb9/Untitled%2012.png"/></a></figure></div></article></body></html>